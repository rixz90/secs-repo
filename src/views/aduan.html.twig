{% extends '@layouts/base.html.twig' %}

{% block header %}
{% include '@common/user_navbar.html.twig' %}
{% endblock %}

{% block content %}
<main class="container">
    <h2>Lodge Complaint</h2>
    <hr />
    <section x-data="{ staff:false, student:false, showForm: false, val:'Select user type...'}">
        <details class="dropdown" x-ref="dropdown">
            <summary x-html="val"></summary>
            <ul>
                <li>
                    <label>
                        <input type="radio" name="isType" value="Student" @click="staff=false, student = true,
                            $refs.dropdown.open=false,
                            val='Student',
                            showForm=true" hx-get="/complaints/form?type=ng" hx-target="#target" hx-swap="innerHTML" />
                        Student
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="isType" value="Staff" @click="staff=true, student=false,
                                    $refs.dropdown.open=false,
                                    val='Staff',
                                    showForm=true
                                " hx-get="/complaints/form?type=ng" hx-target="#target" hx-swap="innerHTML" />
                        Staff
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="isType" value="Guest" @click="student=false, staff=false, 
                                    $refs.dropdown.open=false,
                                    val='Guest',
                                    showForm=true
                                " hx-get="/complaints/form?type=g" hx-target="#target" hx-swap="innerHTML" />
                        Guest
                    </label>
                </li>
            </ul>
        </details>
        <hr />
        <div x-show="showForm" x-transition id="target">
        </div>
</main>
{% endblock %}